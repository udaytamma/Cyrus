import type { KnowledgeBaseDocFull as KnowledgeBaseDoc } from "@/data/knowledge-base-index";

export type AdoptionLevel = "universal" | "standard" | "high" | "common" | "selective" | "emerging" | "legacy";

export type KnowledgeBaseWikiEntry = {
  tool: string;
  summary: string;
  mag7: string;
  adoption: AdoptionLevel;
  /** Principal TPM decision context: when to choose, trade-offs, cost implications */
  decision?: string;
  /** Typical cost tier at scale: low, medium, high, variable */
  costTier?: "low" | "medium" | "high" | "variable";
};

export type KnowledgeBaseWikiGroup = {
  name: string;
  entries: KnowledgeBaseWikiEntry[];
};

export type KnowledgeBaseWikiSection = {
  provider: string;
  /** Provider color for visual distinction */
  color: string;
  groups: KnowledgeBaseWikiGroup[];
};

export const knowledgeBaseWikiSections: KnowledgeBaseWikiSection[] = [
  {
    provider: "AWS",
    color: "#FF9900",
    groups: [
      {
        name: "Compute and Containers",
        entries: [
          {
            tool: "EC2",
            summary: "Virtual machines with full OS control and instance type flexibility.",
            mag7: "Baseline for custom fleets requiring specific kernel configs or GPU workloads.",
            adoption: "standard",
            decision: "Choose when you need bare-metal-like control, GPU instances, or specific AMIs. Avoid for stateless web services where containers suffice.",
            costTier: "variable",
          },
          {
            tool: "ECS",
            summary: "AWS-native container orchestration with deep service integration.",
            mag7: "Common for teams already invested in AWS ecosystem without K8s expertise.",
            adoption: "common",
            decision: "Lower operational overhead than EKS when portability is not required. Fargate mode eliminates cluster management entirely.",
            costTier: "medium",
          },
          {
            tool: "EKS",
            summary: "Managed Kubernetes with AWS integrations for IAM, ALB, and networking.",
            mag7: "Standard when multi-cloud portability or K8s ecosystem tooling matters.",
            adoption: "standard",
            decision: "Higher operational cost than ECS but provides portability. Essential when teams have K8s expertise or need Helm/Operator ecosystem.",
            costTier: "high",
          },
          {
            tool: "Lambda",
            summary: "Serverless functions with sub-second billing and auto-scaling to zero.",
            mag7: "High for event-driven glue code, bursty workloads, and API backends under 15min execution.",
            adoption: "high",
            decision: "Cold starts matter for latency-sensitive paths. Cost-effective under ~1M invocations/month; consider containers at scale.",
            costTier: "variable",
          },
          {
            tool: "Fargate",
            summary: "Serverless compute for containers without managing EC2 instances.",
            mag7: "High for teams wanting container benefits without cluster management.",
            adoption: "high",
            decision: "Higher per-vCPU cost than EC2 but zero node management. Spot Fargate for fault-tolerant workloads. Consider for variable workloads.",
            costTier: "medium",
          },
          {
            tool: "Step Functions",
            summary: "Visual workflow orchestration with state management and error handling.",
            mag7: "Common for complex multi-service orchestration and saga patterns.",
            adoption: "common",
            decision: "Standard Workflows for long-running, Express for high-volume short tasks. Built-in retry/catch simplifies error handling. Consider for complex async flows.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Databases and Storage",
        entries: [
          {
            tool: "DynamoDB",
            summary: "Fully managed NoSQL with single-digit millisecond latency at any scale.",
            mag7: "High for session stores, user metadata, and any key-value access patterns.",
            adoption: "high",
            decision: "Design around partition keys carefully; poor key design causes hot partitions. On-demand mode for unpredictable traffic, provisioned for cost control.",
            costTier: "variable",
          },
          {
            tool: "RDS",
            summary: "Managed relational databases (MySQL, PostgreSQL, MariaDB, Oracle, SQL Server).",
            mag7: "Common baseline for transactional apps needing SQL semantics.",
            adoption: "common",
            decision: "Multi-AZ for production. Consider Aurora for higher throughput needs. RDS Proxy helps with connection pooling for serverless.",
            costTier: "medium",
          },
          {
            tool: "Aurora",
            summary: "Cloud-native MySQL/PostgreSQL with 5x throughput and auto-scaling storage.",
            mag7: "Common for scale-up OLTP workloads requiring high availability.",
            adoption: "common",
            decision: "Higher cost than RDS but better performance. Serverless v2 mode for variable workloads. Global Database for cross-region reads.",
            costTier: "high",
          },
          {
            tool: "S3",
            summary: "Object storage with 11 9s durability, versioning, and lifecycle policies.",
            mag7: "Universal storage layer for data lakes, backups, and static assets.",
            adoption: "universal",
            decision: "Choose storage class based on access patterns: Standard for hot, Intelligent-Tiering for unknown, Glacier for archive. Egress costs add up.",
            costTier: "low",
          },
          {
            tool: "ElastiCache",
            summary: "Managed Redis and Memcached for caching and session storage.",
            mag7: "Standard for application caching layers requiring sub-millisecond latency.",
            adoption: "standard",
            decision: "Redis for rich data structures, Memcached for simple caching. Cluster mode for horizontal scaling. MemoryDB for durability.",
            costTier: "medium",
          },
          {
            tool: "Redshift",
            summary: "Petabyte-scale data warehouse with columnar storage and MPP architecture.",
            mag7: "Common for analytics teams with heavy SQL workloads and existing AWS investment.",
            adoption: "common",
            decision: "Serverless for variable workloads, Provisioned for predictable. AQUA for faster queries. Consider Snowflake for cross-cloud needs.",
            costTier: "high",
          },
          {
            tool: "DocumentDB",
            summary: "MongoDB-compatible managed document database.",
            mag7: "Selective for teams with MongoDB expertise wanting managed AWS experience.",
            adoption: "selective",
            decision: "Not fully MongoDB compatible. Consider for MongoDB workloads needing AWS integration. Evaluate DynamoDB as alternative.",
            costTier: "high",
          },
          {
            tool: "Neptune",
            summary: "Managed graph database supporting Gremlin and SPARQL queries.",
            mag7: "Selective for knowledge graphs, fraud detection, and social network analysis.",
            adoption: "selective",
            decision: "Choose Gremlin for property graphs, SPARQL for RDF. High cost at scale. Consider for relationship-heavy workloads.",
            costTier: "high",
          },
          {
            tool: "Timestream",
            summary: "Serverless time-series database with automatic tiering.",
            mag7: "Selective for IoT and metrics storage requiring SQL-like queries.",
            adoption: "selective",
            decision: "Auto-tiering from memory to magnetic. Purpose-built for time-series. Consider InfluxDB for portability.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "Networking and Edge",
        entries: [
          {
            tool: "CloudFront",
            summary: "Global CDN with 450+ edge locations, Lambda@Edge, and origin shield.",
            mag7: "Standard for web/media delivery, API acceleration, and DDoS mitigation.",
            adoption: "standard",
            decision: "Origin Shield reduces origin load. Lambda@Edge for auth/personalization at edge. Price class selection controls cost vs coverage.",
            costTier: "variable",
          },
          {
            tool: "API Gateway",
            summary: "Managed API front door with throttling, auth, and usage plans.",
            mag7: "Common for public REST/WebSocket APIs with built-in rate limiting.",
            adoption: "common",
            decision: "HTTP APIs are cheaper and faster than REST APIs but with fewer features. Consider ALB for internal APIs to avoid per-request costs.",
            costTier: "variable",
          },
          {
            tool: "ALB",
            summary: "Layer 7 load balancer with path-based routing, gRPC, and WebSocket support.",
            mag7: "Standard default for HTTP/HTTPS workloads.",
            adoption: "standard",
            decision: "Use target groups for blue-green deployments. Consider NLB for non-HTTP protocols or extreme throughput needs.",
            costTier: "medium",
          },
          {
            tool: "VPC",
            summary: "Software-defined networking with subnets, NACLs, security groups, and peering.",
            mag7: "Universal baseline for network isolation and security boundaries.",
            adoption: "universal",
            decision: "Plan CIDR blocks carefully for peering and Transit Gateway. Private subnets + NAT Gateway for egress control.",
            costTier: "low",
          },
          {
            tool: "Route 53",
            summary: "Managed DNS with health checks, geo-routing, and latency-based routing.",
            mag7: "Standard for global traffic routing and failover.",
            adoption: "standard",
            decision: "Use alias records for AWS resources (no query charges). Health checks enable automatic failover. Consider weighted routing for canaries.",
            costTier: "low",
          },
          {
            tool: "WAF",
            summary: "Web application firewall with managed rule groups and custom rules.",
            mag7: "Standard edge protection against OWASP top 10 and bot traffic.",
            adoption: "standard",
            decision: "AWS Managed Rules for baseline protection. Bot Control for sophisticated bot mitigation. Rate-based rules for DDoS layer 7.",
            costTier: "medium",
          },
          {
            tool: "Shield",
            summary: "Managed DDoS protection with automatic detection and mitigation.",
            mag7: "Common for internet-facing services. Advanced tier for dedicated DRT support.",
            adoption: "common",
            decision: "Standard tier is free with CloudFront/ALB. Advanced ($3K/month) for DRT access, cost protection, and attack visibility.",
            costTier: "variable",
          },
          {
            tool: "NLB",
            summary: "Layer 4 load balancer for TCP/UDP with static IPs and extreme throughput.",
            mag7: "Standard for non-HTTP protocols, gRPC, or millions of connections.",
            adoption: "standard",
            decision: "Use when ALB's L7 features aren't needed. Static IPs for allowlisting. Target groups support Lambda.",
            costTier: "medium",
          },
          {
            tool: "Transit Gateway",
            summary: "Hub-and-spoke network architecture for connecting VPCs and on-premises.",
            mag7: "Standard for enterprises with complex multi-VPC networking.",
            adoption: "standard",
            decision: "Simplifies VPC peering at scale. Inter-region peering available. Per-attachment and data processing charges add up.",
            costTier: "medium",
          },
          {
            tool: "Direct Connect",
            summary: "Dedicated network connection from on-premises to AWS.",
            mag7: "Common for hybrid architectures requiring consistent latency and high bandwidth.",
            adoption: "common",
            decision: "Long lead times for provisioning. Use with VPN as backup. Consider for >1Gbps sustained traffic to AWS.",
            costTier: "high",
          },
          {
            tool: "Global Accelerator",
            summary: "Anycast IPs routing traffic over AWS backbone for improved latency.",
            mag7: "Selective for global applications requiring consistent performance.",
            adoption: "selective",
            decision: "Static IPs simplify DNS. AWS backbone reduces internet variability. Consider for latency-sensitive global apps.",
            costTier: "high",
          },
          {
            tool: "PrivateLink",
            summary: "Private connectivity to AWS services and SaaS without internet exposure.",
            mag7: "Standard for security-conscious architectures keeping traffic off public internet.",
            adoption: "standard",
            decision: "Endpoint types: Interface (ENI-based) vs Gateway (S3/DynamoDB). Per-hour and data charges. Essential for compliance.",
            costTier: "medium",
          },
        ],
      },
      {
        name: "Messaging and Streaming",
        entries: [
          {
            tool: "SQS",
            summary: "Fully managed message queues with at-least-once delivery and dead-letter queues.",
            mag7: "Common for reliable async workflows and service decoupling.",
            adoption: "common",
            decision: "Standard queues for throughput, FIFO for ordering guarantees. Visibility timeout tuning critical for retry behavior.",
            costTier: "low",
          },
          {
            tool: "SNS",
            summary: "Pub/sub messaging for fan-out to SQS, Lambda, HTTP, email, and SMS.",
            mag7: "Common for event distribution and notification patterns.",
            adoption: "common",
            decision: "Message filtering reduces downstream costs. FIFO topics available for ordered fan-out. Consider EventBridge for complex routing.",
            costTier: "low",
          },
          {
            tool: "Kinesis",
            summary: "Managed streaming for real-time data ingestion at millions of events/second.",
            mag7: "Common for real-time analytics, log aggregation, and clickstream processing.",
            adoption: "common",
            decision: "Data Streams for custom consumers, Firehose for S3/Redshift delivery. Shard capacity planning critical for cost and throughput.",
            costTier: "medium",
          },
          {
            tool: "MSK",
            summary: "Managed Apache Kafka with automatic broker patching and scaling.",
            mag7: "Standard for teams with Kafka expertise wanting managed experience on AWS.",
            adoption: "standard",
            decision: "MSK Serverless for variable workloads. Provisioned for predictable throughput. Consider Confluent Cloud for advanced features.",
            costTier: "high",
          },
          {
            tool: "EventBridge",
            summary: "Serverless event bus for application integration and SaaS connectivity.",
            mag7: "High for event-driven architectures with cross-account and SaaS integration needs.",
            adoption: "high",
            decision: "Schema registry for event validation. Event replay for debugging. Scheduler for cron workloads. Consider over SNS for complex routing.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Observability and Search",
        entries: [
          {
            tool: "CloudWatch",
            summary: "Native metrics, logs, alarms, and dashboards for AWS resources.",
            mag7: "Baseline for AWS-native monitoring, often augmented with third-party tools.",
            adoption: "standard",
            decision: "Logs Insights for ad-hoc queries. Container Insights for ECS/EKS. Consider Datadog/Grafana for cross-cloud or advanced visualization.",
            costTier: "variable",
          },
          {
            tool: "OpenSearch",
            summary: "Managed Elasticsearch fork for log analytics, application search, and SIEM.",
            mag7: "Common for centralized logging and full-text search workloads.",
            adoption: "common",
            decision: "UltraWarm for cost-effective log retention. Serverless mode eliminates capacity planning. Consider for log volumes exceeding CloudWatch Logs cost.",
            costTier: "high",
          },
          {
            tool: "X-Ray",
            summary: "Distributed tracing for analyzing application requests and service maps.",
            mag7: "Common for microservice debugging and latency analysis.",
            adoption: "common",
            decision: "Sampling rules control cost. Service map visualizes dependencies. Consider OpenTelemetry for vendor-neutral instrumentation.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Security and Compliance",
        entries: [
          {
            tool: "IAM",
            summary: "Identity and access management with fine-grained permissions.",
            mag7: "Universal foundation for AWS security. Every service depends on IAM policies.",
            adoption: "universal",
            decision: "Least privilege principle. Service-linked roles for AWS services. IAM Access Analyzer for policy validation. Roles > users for applications.",
            costTier: "low",
          },
          {
            tool: "KMS",
            summary: "Managed encryption keys with automatic rotation and audit logging.",
            mag7: "Standard for data encryption at rest and envelope encryption patterns.",
            adoption: "standard",
            decision: "AWS-managed keys for simplicity, CMKs for control. Key policies + IAM for access. CloudTrail logs all key usage.",
            costTier: "low",
          },
          {
            tool: "Secrets Manager",
            summary: "Managed secrets with automatic rotation for RDS, Redshift, and custom secrets.",
            mag7: "Standard for application secrets requiring rotation and audit trails.",
            adoption: "standard",
            decision: "Built-in rotation for databases. Per-secret pricing. Consider Parameter Store SecureString for simpler needs.",
            costTier: "medium",
          },
          {
            tool: "Cognito",
            summary: "User pools and identity pools for authentication and authorization.",
            mag7: "Common for customer-facing apps needing sign-up, sign-in, and social federation.",
            adoption: "common",
            decision: "User Pools for authentication, Identity Pools for AWS credentials. Consider Auth0/Okta for complex B2B requirements.",
            costTier: "variable",
          },
          {
            tool: "GuardDuty",
            summary: "Threat detection using ML to analyze CloudTrail, VPC Flow Logs, and DNS.",
            mag7: "Standard for continuous security monitoring across AWS accounts.",
            adoption: "standard",
            decision: "Enable in all accounts and regions. Finding aggregation via Security Hub. Low false positive rate. S3 and EKS protection available.",
            costTier: "variable",
          },
          {
            tool: "Security Hub",
            summary: "Centralized security findings aggregation with compliance checks.",
            mag7: "Standard for multi-account security posture management.",
            adoption: "standard",
            decision: "Aggregates findings from GuardDuty, Inspector, Macie. AWS Foundational Security Best Practices for baseline. Custom insights for prioritization.",
            costTier: "variable",
          },
          {
            tool: "CloudTrail",
            summary: "API activity logging for governance, compliance, and security analysis.",
            mag7: "Universal requirement for audit trails and incident investigation.",
            adoption: "universal",
            decision: "Organization trail for multi-account. S3 + CloudWatch Logs integration. Lake for SQL queries. Data events for S3/Lambda activity.",
            costTier: "variable",
          },
          {
            tool: "Config",
            summary: "Resource inventory and compliance rules with remediation.",
            mag7: "Standard for configuration compliance and drift detection.",
            adoption: "standard",
            decision: "Conformance packs for compliance frameworks. Aggregator for multi-account. Per-rule and evaluation pricing adds up.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "AI and ML",
        entries: [
          {
            tool: "SageMaker",
            summary: "End-to-end ML platform for building, training, and deploying models.",
            mag7: "Standard for centralized ML operations on AWS.",
            adoption: "standard",
            decision: "Studio for notebooks, Pipelines for MLOps. Inference options: Real-time, Serverless, Batch. Feature Store for ML features.",
            costTier: "high",
          },
          {
            tool: "Bedrock",
            summary: "Managed foundation models including Claude, Llama, and Titan.",
            mag7: "High for enterprises wanting managed LLM access with AWS security.",
            adoption: "high",
            decision: "Model selection based on use case. Knowledge Bases for RAG. Guardrails for content filtering. Pay-per-token pricing.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "Data Processing",
        entries: [
          {
            tool: "Glue",
            summary: "Serverless ETL with crawlers, data catalog, and Spark jobs.",
            mag7: "Common for data lake ETL and schema discovery.",
            adoption: "common",
            decision: "Crawlers for schema discovery, Jobs for transformation. DPU pricing model. Consider Step Functions + Lambda for simpler ETL.",
            costTier: "variable",
          },
          {
            tool: "EMR",
            summary: "Managed Spark, Hadoop, Presto, and Hive for big data processing.",
            mag7: "Standard for large-scale batch processing and analytics.",
            adoption: "standard",
            decision: "EMR on EKS for K8s integration, EMR Serverless for variable workloads. Spot instances for cost optimization.",
            costTier: "high",
          },
          {
            tool: "Athena",
            summary: "Serverless SQL queries directly on S3 data using Presto.",
            mag7: "High for ad-hoc analytics on data lakes without ETL.",
            adoption: "high",
            decision: "Per-query pricing based on data scanned. Partitioning and columnar formats (Parquet) critical for cost. Consider for exploratory analytics.",
            costTier: "variable",
          },
        ],
      },
    ],
  },
  {
    provider: "Google Cloud",
    color: "#4285F4",
    groups: [
      {
        name: "Compute and Containers",
        entries: [
          {
            tool: "Compute Engine",
            summary: "VMs with live migration, custom machine types, and sustained use discounts.",
            mag7: "Standard for custom fleets requiring specific configurations.",
            adoption: "standard",
            decision: "Custom machine types optimize cost. Preemptible VMs for batch workloads. Sole-tenant nodes for compliance isolation.",
            costTier: "variable",
          },
          {
            tool: "GKE",
            summary: "Managed Kubernetes with Autopilot mode, multi-cluster management, and Anthos integration.",
            mag7: "High for container platforms requiring advanced networking and security.",
            adoption: "high",
            decision: "Autopilot mode eliminates node management overhead. Standard mode for full control. GKE Enterprise for multi-cluster governance.",
            costTier: "high",
          },
          {
            tool: "Cloud Run",
            summary: "Serverless containers with scale-to-zero and request-based billing.",
            mag7: "Growing adoption for bursty services and containerized APIs.",
            adoption: "high",
            decision: "No cluster management. Min instances setting controls cold start latency. Excellent for variable traffic patterns.",
            costTier: "variable",
          },
          {
            tool: "Cloud Functions",
            summary: "Event-driven serverless functions with automatic scaling.",
            mag7: "High for event-driven glue code and lightweight API endpoints.",
            adoption: "high",
            decision: "Gen 2 based on Cloud Run. Lower cold starts than Lambda. Consider Cloud Run for container flexibility.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "Databases and Storage",
        entries: [
          {
            tool: "Cloud Storage",
            summary: "Object storage with multi-regional, nearline, coldline, and archive classes.",
            mag7: "Universal storage layer equivalent to S3.",
            adoption: "universal",
            decision: "Autoclass automatically transitions objects. Dual-region for DR without multi-region cost. Signed URLs for controlled access.",
            costTier: "low",
          },
          {
            tool: "Cloud SQL",
            summary: "Managed MySQL, PostgreSQL, and SQL Server with automated backups and HA.",
            mag7: "Common baseline for OLTP workloads on GCP.",
            adoption: "common",
            decision: "HA configuration for production. Read replicas for read scaling. Consider AlloyDB for PostgreSQL workloads needing higher performance.",
            costTier: "medium",
          },
          {
            tool: "Spanner",
            summary: "Globally consistent relational database with horizontal scaling.",
            mag7: "Selective for workloads requiring global strong consistency.",
            adoption: "selective",
            decision: "Unique offering for global transactions. High cost but eliminates distributed consistency complexity. Consider for financial systems.",
            costTier: "high",
          },
          {
            tool: "Bigtable",
            summary: "Wide-column NoSQL for time-series, IoT, and analytics at petabyte scale.",
            mag7: "Selective for high-throughput time-series and ML feature stores.",
            adoption: "selective",
            decision: "Row key design critical for performance. Autoscaling nodes based on CPU. Consider for >1TB data with high write throughput.",
            costTier: "high",
          },
          {
            tool: "AlloyDB",
            summary: "PostgreSQL-compatible database with 4x performance of standard PostgreSQL.",
            mag7: "Emerging as premium PostgreSQL option on GCP.",
            adoption: "emerging",
            decision: "Full PostgreSQL compatibility with Google's storage layer. Higher cost than Cloud SQL. Consider for PostgreSQL workloads needing performance.",
            costTier: "high",
          },
          {
            tool: "Firestore",
            summary: "Serverless document database with real-time sync and offline support.",
            mag7: "High for mobile/web apps requiring real-time updates and offline capability.",
            adoption: "high",
            decision: "Native mode for new apps, Datastore mode for existing. Strong mobile SDK support. Consider for client-facing apps with sync needs.",
            costTier: "variable",
          },
          {
            tool: "Memorystore",
            summary: "Managed Redis and Memcached for caching and session storage.",
            mag7: "Standard for GCP application caching layers.",
            adoption: "standard",
            decision: "Redis for rich data structures, Memcached for simple caching. Standard tier for HA. Consider for sub-millisecond access patterns.",
            costTier: "medium",
          },
        ],
      },
      {
        name: "Data and Analytics",
        entries: [
          {
            tool: "BigQuery",
            summary: "Serverless data warehouse with separation of storage and compute.",
            mag7: "High for analytics workloads with minimal operational overhead.",
            adoption: "high",
            decision: "Slot reservations for predictable costs. Partitioning and clustering for query optimization. BI Engine for sub-second dashboard queries.",
            costTier: "variable",
          },
          {
            tool: "Pub/Sub",
            summary: "Global messaging with at-least-once delivery and exactly-once processing.",
            mag7: "Common for event-driven architectures and stream ingestion.",
            adoption: "common",
            decision: "Push subscriptions for serverless integration. Dead-letter topics for error handling. Consider Lite for single-zone, lower-cost messaging.",
            costTier: "low",
          },
          {
            tool: "Dataflow",
            summary: "Managed Apache Beam for batch and streaming data processing.",
            mag7: "Standard for unified batch/stream pipelines on GCP.",
            adoption: "standard",
            decision: "Apache Beam portability. Autoscaling workers. Higher cost than self-managed Spark but lower operational overhead.",
            costTier: "high",
          },
          {
            tool: "Dataproc",
            summary: "Managed Spark and Hadoop clusters with per-second billing.",
            mag7: "Common for Spark workloads with existing Hadoop ecosystem tooling.",
            adoption: "common",
            decision: "Ephemeral clusters for cost optimization. Serverless Spark available. Consider Dataflow for new streaming workloads.",
            costTier: "high",
          },
          {
            tool: "Composer",
            summary: "Managed Apache Airflow for workflow orchestration.",
            mag7: "Standard for GCP-native pipeline orchestration.",
            adoption: "standard",
            decision: "Composer 2 for improved performance. High baseline cost. Consider Cloud Workflows for simpler orchestration.",
            costTier: "high",
          },
        ],
      },
      {
        name: "Networking and Edge",
        entries: [
          {
            tool: "Cloud CDN",
            summary: "Global edge caching integrated with Cloud Load Balancing.",
            mag7: "Standard for GCP-hosted content delivery.",
            adoption: "standard",
            decision: "Cache modes control TTL behavior. Signed URLs/cookies for private content. Media CDN for video streaming at scale.",
            costTier: "variable",
          },
          {
            tool: "Cloud Load Balancing",
            summary: "Global and regional load balancing for HTTP(S), TCP, and UDP.",
            mag7: "Standard for distributing traffic across GCP resources.",
            adoption: "standard",
            decision: "Global for multi-region, Regional for single-region. Premium tier for global anycast. URL maps for path-based routing.",
            costTier: "medium",
          },
          {
            tool: "Cloud Armor",
            summary: "DDoS protection and WAF for Google Cloud applications.",
            mag7: "Standard edge protection for GCP workloads.",
            adoption: "standard",
            decision: "Preconfigured WAF rules for OWASP. Adaptive Protection uses ML for DDoS. Rate limiting for API protection.",
            costTier: "medium",
          },
          {
            tool: "Cloud Interconnect",
            summary: "Dedicated network connection from on-premises to GCP.",
            mag7: "Common for hybrid architectures with high bandwidth needs.",
            adoption: "common",
            decision: "Dedicated for >10Gbps, Partner for smaller connections. Consider for consistent latency and high data transfer volumes.",
            costTier: "high",
          },
        ],
      },
      {
        name: "Security and Identity",
        entries: [
          {
            tool: "Cloud IAM",
            summary: "Identity and access management with organization-wide policies.",
            mag7: "Universal foundation for GCP security.",
            adoption: "universal",
            decision: "Predefined roles for common patterns, custom roles for specific needs. Organization policies for guardrails. Workload Identity for GKE.",
            costTier: "low",
          },
          {
            tool: "Cloud KMS",
            summary: "Managed encryption keys with HSM backing options.",
            mag7: "Standard for data encryption across GCP services.",
            adoption: "standard",
            decision: "Software keys for cost, HSM for compliance. Automatic key rotation. Integrates with all GCP storage services.",
            costTier: "low",
          },
          {
            tool: "Secret Manager",
            summary: "Managed secrets with versioning and IAM-based access control.",
            mag7: "Standard for application secrets on GCP.",
            adoption: "standard",
            decision: "Automatic replication options. Version management built-in. Per-secret and access pricing. Integrates with Cloud Run and GKE.",
            costTier: "low",
          },
          {
            tool: "Identity Platform",
            summary: "Customer identity and access management with multi-provider support.",
            mag7: "Common for customer-facing authentication on GCP.",
            adoption: "common",
            decision: "Firebase Auth superset with enterprise features. Multi-tenancy support. Consider for B2C and B2B identity needs.",
            costTier: "variable",
          },
          {
            tool: "Security Command Center",
            summary: "Centralized security and risk management for GCP resources.",
            mag7: "Standard for GCP security posture management.",
            adoption: "standard",
            decision: "Premium tier for threat detection. Finding aggregation across services. Compliance monitoring built-in.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "Observability",
        entries: [
          {
            tool: "Cloud Monitoring",
            summary: "Metrics collection and alerting for GCP and hybrid workloads.",
            mag7: "Standard baseline for GCP resource monitoring.",
            adoption: "standard",
            decision: "Native GCP integration. Custom metrics for application telemetry. Managed Prometheus for K8s-native monitoring.",
            costTier: "variable",
          },
          {
            tool: "Cloud Logging",
            summary: "Centralized log management with real-time ingestion and analysis.",
            mag7: "Standard for GCP log aggregation and compliance.",
            adoption: "standard",
            decision: "Log Router for filtering and routing. Log Analytics for SQL queries. Export to BigQuery for long-term analysis.",
            costTier: "variable",
          },
          {
            tool: "Cloud Trace",
            summary: "Distributed tracing for latency analysis and debugging.",
            mag7: "Common for microservice debugging on GCP.",
            adoption: "common",
            decision: "Auto-instrumentation for GCP services. OpenTelemetry support. Consider for latency debugging and service map visualization.",
            costTier: "low",
          },
        ],
      },
      {
        name: "AI and ML",
        entries: [
          {
            tool: "Vertex AI",
            summary: "Unified ML platform for training, serving, and MLOps.",
            mag7: "Common for centralized ML operations and model management.",
            adoption: "common",
            decision: "Model Garden for foundation models. Feature Store for ML features. Pipelines for reproducible ML workflows.",
            costTier: "high",
          },
          {
            tool: "Gemini API",
            summary: "Google's foundation model API for multimodal AI capabilities.",
            mag7: "High for teams building AI features with Google's latest models.",
            adoption: "high",
            decision: "Multiple model sizes (Flash, Pro, Ultra) for cost/capability trade-off. Multimodal support built-in. Consider for Google ecosystem integration.",
            costTier: "variable",
          },
          {
            tool: "TPU",
            summary: "Custom ASICs designed for ML training and inference.",
            mag7: "Selective for large-scale ML training and high-throughput inference.",
            adoption: "selective",
            decision: "Cost-effective for large models. Framework support varies. Consider for transformer training at scale.",
            costTier: "high",
          },
        ],
      },
      {
        name: "Developer Tools",
        entries: [
          {
            tool: "Cloud Build",
            summary: "Serverless CI/CD platform with container and artifact support.",
            mag7: "Standard for GCP-native CI/CD pipelines.",
            adoption: "standard",
            decision: "Trigger-based automation. Private pools for security. Consider for GCP-first deployment workflows.",
            costTier: "variable",
          },
          {
            tool: "Artifact Registry",
            summary: "Universal package manager for containers, language packages, and OS packages.",
            mag7: "Standard for artifact management in GCP pipelines.",
            adoption: "standard",
            decision: "Replaces Container Registry. Multi-format support. Vulnerability scanning integration.",
            costTier: "low",
          },
        ],
      },
    ],
  },
  {
    provider: "Microsoft Azure",
    color: "#0078D4",
    groups: [
      {
        name: "Compute and Containers",
        entries: [
          {
            tool: "AKS",
            summary: "Managed Kubernetes with Azure AD integration and virtual nodes.",
            mag7: "Standard for Azure-based container platforms.",
            adoption: "standard",
            decision: "Virtual nodes for serverless burst capacity. Azure CNI for advanced networking. Azure Policy for governance.",
            costTier: "high",
          },
          {
            tool: "Azure Functions",
            summary: "Event-driven serverless compute with multiple language support.",
            mag7: "High for event-driven workloads and Azure ecosystem integration.",
            adoption: "high",
            decision: "Durable Functions for stateful orchestration. Premium plan for VNet integration. Consider for Azure-native event processing.",
            costTier: "variable",
          },
          {
            tool: "Azure VMs",
            summary: "Virtual machines with wide instance selection and spot pricing.",
            mag7: "Standard baseline for custom workloads requiring full OS control.",
            adoption: "standard",
            decision: "Spot VMs for fault-tolerant workloads. Reserved instances for cost. Dedicated hosts for compliance.",
            costTier: "variable",
          },
          {
            tool: "Container Apps",
            summary: "Serverless container platform with built-in autoscaling and Dapr support.",
            mag7: "Emerging for microservices without Kubernetes complexity.",
            adoption: "emerging",
            decision: "Dapr integration for distributed patterns. Scale to zero. Consider for teams wanting containers without K8s overhead.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "Databases and Storage",
        entries: [
          {
            tool: "Azure SQL",
            summary: "Managed SQL Server with intelligent performance tuning.",
            mag7: "Common for enterprise OLTP workloads, especially Microsoft shops.",
            adoption: "common",
            decision: "Hyperscale for >100TB databases. Serverless tier for intermittent workloads. Elastic pools for multi-tenant scenarios.",
            costTier: "high",
          },
          {
            tool: "Cosmos DB",
            summary: "Globally distributed NoSQL with tunable consistency and multi-model APIs.",
            mag7: "Selective for multi-region applications requiring low latency worldwide.",
            adoption: "selective",
            decision: "Five consistency levels for latency/consistency trade-off. RU-based pricing requires capacity planning. Consider for global user presence.",
            costTier: "high",
          },
          {
            tool: "Azure Storage",
            summary: "Blob, file, queue, and table storage with geo-redundancy options.",
            mag7: "Universal storage layer for Azure workloads.",
            adoption: "universal",
            decision: "Hot/Cool/Archive tiers. Premium for low-latency workloads. Immutable storage for compliance.",
            costTier: "low",
          },
          {
            tool: "Azure Cache for Redis",
            summary: "Managed Redis for caching, session management, and message brokering.",
            mag7: "Standard for Azure application caching layers.",
            adoption: "standard",
            decision: "Enterprise tier for active geo-replication. Clustering for scale. Consider for sub-millisecond Azure caching.",
            costTier: "medium",
          },
          {
            tool: "Azure Database for PostgreSQL",
            summary: "Managed PostgreSQL with Flexible Server deployment option.",
            mag7: "Common for PostgreSQL workloads on Azure.",
            adoption: "common",
            decision: "Flexible Server for customization, Hyperscale for scale-out. Zone-redundant HA available.",
            costTier: "medium",
          },
          {
            tool: "Synapse Analytics",
            summary: "Unified analytics platform combining data warehouse, Spark, and pipelines.",
            mag7: "Common for enterprise analytics combining SQL and Spark workloads.",
            adoption: "common",
            decision: "Serverless SQL for ad-hoc queries, Dedicated pools for predictable workloads. Integrates with Power BI.",
            costTier: "high",
          },
        ],
      },
      {
        name: "Messaging and Integration",
        entries: [
          {
            tool: "Event Hubs",
            summary: "Big data streaming platform for millions of events per second.",
            mag7: "Standard for real-time event streaming on Azure.",
            adoption: "standard",
            decision: "Kafka-compatible endpoint available. Capture for automatic archival. Consider for high-volume event ingestion.",
            costTier: "medium",
          },
          {
            tool: "Service Bus",
            summary: "Enterprise message broker with queues and pub/sub topics.",
            mag7: "Standard for reliable messaging and service decoupling on Azure.",
            adoption: "standard",
            decision: "Sessions for ordered processing, Dead-letter for failures. Premium for predictable performance. Consider for enterprise integration.",
            costTier: "medium",
          },
          {
            tool: "Event Grid",
            summary: "Serverless event routing with filtering and fan-out.",
            mag7: "High for event-driven architectures on Azure.",
            adoption: "high",
            decision: "Native Azure service integration. Custom topics for application events. Push delivery model. Low latency event routing.",
            costTier: "low",
          },
          {
            tool: "Logic Apps",
            summary: "Low-code integration platform with 400+ connectors.",
            mag7: "Common for enterprise integration and workflow automation.",
            adoption: "common",
            decision: "Consumption for pay-per-execution, Standard for predictable workloads. Consider for SaaS integration without code.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "Networking and Edge",
        entries: [
          {
            tool: "Azure CDN",
            summary: "Global content delivery with Microsoft, Akamai, and Verizon PoPs.",
            mag7: "Standard for Azure-hosted content delivery.",
            adoption: "standard",
            decision: "Multiple CDN providers available. Rules engine for URL rewriting and caching logic.",
            costTier: "variable",
          },
          {
            tool: "API Management",
            summary: "Full-lifecycle API management with developer portal and analytics.",
            mag7: "Common for partner APIs and enterprise API governance.",
            adoption: "common",
            decision: "Developer tier for testing. Premium for multi-region. Self-hosted gateway for hybrid scenarios.",
            costTier: "high",
          },
          {
            tool: "Front Door",
            summary: "Global load balancer with WAF, CDN, and SSL offloading.",
            mag7: "Standard for global application delivery on Azure.",
            adoption: "standard",
            decision: "Standard tier for CDN+WAF, Premium for private link. Rules engine for routing. Consider for multi-region Azure apps.",
            costTier: "variable",
          },
          {
            tool: "Application Gateway",
            summary: "Regional L7 load balancer with WAF and URL-based routing.",
            mag7: "Standard for regional HTTP/HTTPS workloads on Azure.",
            adoption: "standard",
            decision: "WAF v2 for OWASP protection. Autoscaling for variable traffic. Consider for regional deployments with advanced routing.",
            costTier: "medium",
          },
          {
            tool: "Virtual Network",
            summary: "Software-defined networking with NSGs, peering, and service endpoints.",
            mag7: "Universal foundation for Azure network isolation.",
            adoption: "universal",
            decision: "Plan address spaces carefully. Private endpoints for PaaS isolation. Network Watcher for diagnostics.",
            costTier: "low",
          },
          {
            tool: "ExpressRoute",
            summary: "Private dedicated connection from on-premises to Azure.",
            mag7: "Common for hybrid architectures with compliance requirements.",
            adoption: "common",
            decision: "Global Reach for branch connectivity. Multiple peering options. Consider for sensitive data transfer.",
            costTier: "high",
          },
        ],
      },
      {
        name: "Security and Identity",
        entries: [
          {
            tool: "Entra ID",
            summary: "Cloud identity and access management (formerly Azure AD).",
            mag7: "Universal for Azure authentication and enterprise SSO.",
            adoption: "universal",
            decision: "B2C for customer identity, B2B for partner access. Conditional Access for Zero Trust. MFA enforcement essential.",
            costTier: "variable",
          },
          {
            tool: "Key Vault",
            summary: "Managed secrets, keys, and certificates with HSM backing.",
            mag7: "Standard for Azure secret management and encryption keys.",
            adoption: "standard",
            decision: "Premium for HSM-backed keys. Managed identities for access. Certificate lifecycle management included.",
            costTier: "low",
          },
          {
            tool: "Defender for Cloud",
            summary: "Cloud security posture management and workload protection.",
            mag7: "Standard for Azure security monitoring and compliance.",
            adoption: "standard",
            decision: "Free tier for posture management. Defender plans for workload protection. Regulatory compliance dashboards.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "Observability",
        entries: [
          {
            tool: "Azure Monitor",
            summary: "Unified monitoring for metrics, logs, and application insights.",
            mag7: "Standard for Azure resource monitoring.",
            adoption: "standard",
            decision: "Application Insights for APM. Log Analytics workspace for aggregation. Action groups for alerting.",
            costTier: "variable",
          },
          {
            tool: "Application Insights",
            summary: "APM for live web applications with auto-instrumentation.",
            mag7: "Standard for application performance monitoring on Azure.",
            adoption: "standard",
            decision: "Workspace-based for Log Analytics integration. Smart detection for anomalies. Consider for .NET and JavaScript apps.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "AI and ML",
        entries: [
          {
            tool: "Azure OpenAI Service",
            summary: "Managed OpenAI models with enterprise security and compliance.",
            mag7: "High for enterprises wanting GPT/DALL-E with Azure governance.",
            adoption: "high",
            decision: "Private endpoints for data isolation. Content filtering built-in. PTU for predictable pricing. Consider for regulated industries.",
            costTier: "variable",
          },
          {
            tool: "Azure Machine Learning",
            summary: "End-to-end ML platform for training, deployment, and MLOps.",
            mag7: "Standard for centralized ML on Azure.",
            adoption: "standard",
            decision: "Designer for no-code ML. Pipelines for automation. Managed endpoints for serving. Integrates with Azure DevOps.",
            costTier: "high",
          },
        ],
      },
      {
        name: "Developer Tools",
        entries: [
          {
            tool: "Azure DevOps",
            summary: "Complete DevOps platform with repos, pipelines, boards, and artifacts.",
            mag7: "Common for enterprise CI/CD, especially Microsoft-centric orgs.",
            adoption: "common",
            decision: "Boards for work tracking. Pipelines for CI/CD. Consider for teams using Microsoft ecosystem. GitHub Actions as alternative.",
            costTier: "medium",
          },
          {
            tool: "Container Registry",
            summary: "Managed Docker registry with geo-replication and security scanning.",
            mag7: "Standard for container image management on Azure.",
            adoption: "standard",
            decision: "Premium for geo-replication. Tasks for automated builds. Defender integration for vulnerability scanning.",
            costTier: "low",
          },
        ],
      },
    ],
  },
  {
    provider: "Cloudflare",
    color: "#F38020",
    groups: [
      {
        name: "Edge and Serverless",
        entries: [
          {
            tool: "Cloudflare CDN",
            summary: "Global edge network with integrated DDoS protection and WAF.",
            mag7: "Common as cloud-agnostic edge layer for DNS, CDN, and security.",
            adoption: "common",
            decision: "Free tier for basics. Pro/Business for advanced WAF rules. Enterprise for dedicated support and SLAs.",
            costTier: "variable",
          },
          {
            tool: "Workers",
            summary: "Edge compute with V8 isolates for sub-millisecond cold starts.",
            mag7: "Selective for latency-critical routing, auth, and personalization at edge.",
            adoption: "selective",
            decision: "No containers or VMs overhead. KV for edge state. Durable Objects for stateful coordination. Consider for edge-first architectures.",
            costTier: "low",
          },
          {
            tool: "R2",
            summary: "S3-compatible object storage with zero egress fees.",
            mag7: "Emerging as cost-effective alternative for egress-heavy workloads.",
            adoption: "emerging",
            decision: "S3 API compatibility. Zero egress transforms economics. Consider for CDN origin or cross-region replication source.",
            costTier: "low",
          },
          {
            tool: "D1",
            summary: "Serverless SQLite database at the edge.",
            mag7: "Emerging for edge-first applications with SQL needs.",
            adoption: "emerging",
            decision: "SQLite compatibility. Global read replicas. Best for read-heavy edge workloads. Limited write throughput.",
            costTier: "low",
          },
          {
            tool: "Queues",
            summary: "Message queue for Workers with guaranteed delivery.",
            mag7: "Emerging for async processing in edge-first architectures.",
            adoption: "emerging",
            decision: "Native Workers integration. Pull-based consumption. Consider for decoupling edge workloads.",
            costTier: "low",
          },
          {
            tool: "Pages",
            summary: "JAMstack deployment platform with global distribution.",
            mag7: "High for static sites and frontend deployments.",
            adoption: "high",
            decision: "Git-based deploys. Edge functions included. Consider for static sites and SPAs.",
            costTier: "low",
          },
        ],
      },
    ],
  },
  {
    provider: "Cross-Cloud and Open Source",
    color: "#6B7280",
    groups: [
      {
        name: "Containers and Orchestration",
        entries: [
          {
            tool: "Docker",
            summary: "Container runtime and image format standard.",
            mag7: "Universal baseline for containerization.",
            adoption: "universal",
            decision: "Multi-stage builds for smaller images. Distroless or Alpine for security. BuildKit for faster builds.",
            costTier: "low",
          },
          {
            tool: "Kubernetes",
            summary: "Container orchestration for automated deployment, scaling, and management.",
            mag7: "Standard for platform teams managing containerized workloads.",
            adoption: "standard",
            decision: "Managed K8s (EKS/GKE/AKS) for reduced ops burden. Self-managed for full control. Evaluate operational readiness before adoption.",
            costTier: "variable",
          },
          {
            tool: "Terraform",
            summary: "Infrastructure as Code with declarative HCL and state management.",
            mag7: "Common for multi-cloud governance, repeatability, and audit trails.",
            adoption: "common",
            decision: "Remote state with locking essential for teams. Modules for reusability. Consider Pulumi for programming language IaC.",
            costTier: "low",
          },
          {
            tool: "Helm",
            summary: "Kubernetes package manager for templated application deployment.",
            mag7: "Standard for K8s application packaging and deployment.",
            adoption: "standard",
            decision: "Charts for reusable deployments. Helmfile for declarative releases. Consider Kustomize for simpler overlay needs.",
            costTier: "low",
          },
          {
            tool: "ArgoCD",
            summary: "GitOps continuous delivery for Kubernetes.",
            mag7: "Standard for declarative K8s deployments from Git.",
            adoption: "standard",
            decision: "ApplicationSets for multi-cluster. Sync waves for ordering. Consider Flux as alternative. Essential for GitOps workflows.",
            costTier: "low",
          },
          {
            tool: "Pulumi",
            summary: "Infrastructure as Code using general-purpose programming languages.",
            mag7: "Selective for teams preferring TypeScript/Python/Go over HCL.",
            adoption: "selective",
            decision: "Familiar languages, better IDE support. State management similar to Terraform. Consider for complex logic in IaC.",
            costTier: "low",
          },
          {
            tool: "Ansible",
            summary: "Agentless configuration management and automation.",
            mag7: "Common for configuration management and ad-hoc automation.",
            adoption: "common",
            decision: "Agentless via SSH. Playbooks for automation. Consider for existing server fleets and one-time tasks.",
            costTier: "low",
          },
          {
            tool: "Karpenter",
            summary: "Just-in-time Kubernetes node provisioning based on pod requirements.",
            mag7: "High for efficient K8s cluster autoscaling, especially on AWS.",
            adoption: "high",
            decision: "Faster scaling than Cluster Autoscaler. Spot instance support. Consider for cost optimization and diverse workloads.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Service Mesh and Networking",
        entries: [
          {
            tool: "Istio",
            summary: "Service mesh for traffic management, security, and observability.",
            mag7: "Common in large microservice fleets requiring mTLS and traffic control.",
            adoption: "common",
            decision: "Significant operational complexity. Ambient mesh reduces sidecar overhead. Consider only for 50+ services or strict security requirements.",
            costTier: "medium",
          },
          {
            tool: "Envoy",
            summary: "High-performance proxy used in service meshes and API gateways.",
            mag7: "Standard building block for modern networking infrastructure.",
            adoption: "standard",
            decision: "Foundation for Istio, AWS App Mesh, and many API gateways. Direct use for custom proxy needs.",
            costTier: "low",
          },
          {
            tool: "Nginx",
            summary: "Web server and reverse proxy with load balancing and caching.",
            mag7: "Common for ingress controllers and edge proxies.",
            adoption: "common",
            decision: "NGINX Plus for enterprise features. Ingress controller for K8s. Consider Envoy for modern service mesh scenarios.",
            costTier: "low",
          },
          {
            tool: "HAProxy",
            summary: "High-performance L4/L7 load balancer with health checking.",
            mag7: "Common in performance-critical stacks requiring fine-grained control.",
            adoption: "common",
            decision: "Superior raw performance. Complex configuration. Consider for extreme throughput or custom routing needs.",
            costTier: "low",
          },
          {
            tool: "Linkerd",
            summary: "Lightweight service mesh focused on simplicity and performance.",
            mag7: "Selective as lighter-weight alternative to Istio.",
            adoption: "selective",
            decision: "Lower resource overhead than Istio. Simpler operational model. Consider for smaller deployments or resource constraints.",
            costTier: "low",
          },
          {
            tool: "Cilium",
            summary: "eBPF-based networking, security, and observability for Kubernetes.",
            mag7: "High for advanced K8s networking with kernel-level performance.",
            adoption: "high",
            decision: "eBPF provides kernel-level efficiency. Native network policies. Consider for high-performance networking and security.",
            costTier: "low",
          },
          {
            tool: "Consul",
            summary: "Service discovery, configuration, and mesh with multi-datacenter support.",
            mag7: "Common for service discovery in hybrid and multi-cloud environments.",
            adoption: "common",
            decision: "DNS and HTTP APIs for discovery. Connect for service mesh. Consider for non-K8s workloads or multi-DC needs.",
            costTier: "medium",
          },
          {
            tool: "gRPC",
            summary: "High-performance RPC framework with Protocol Buffers and HTTP/2.",
            mag7: "Standard for internal service-to-service communication.",
            adoption: "standard",
            decision: "Strong typing with proto definitions. Streaming support. Consider for internal APIs with defined schemas.",
            costTier: "low",
          },
          {
            tool: "GraphQL",
            summary: "Query language for APIs with client-specified data fetching.",
            mag7: "Selective for client-facing APIs with complex data requirements.",
            adoption: "selective",
            decision: "Reduces over-fetching for clients. N+1 query risks on backend. Consider for mobile apps or diverse client needs.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Observability",
        entries: [
          {
            tool: "Prometheus",
            summary: "Pull-based metrics collection with powerful PromQL query language.",
            mag7: "Standard in Kubernetes environments for metrics and alerting.",
            adoption: "standard",
            decision: "Prometheus Operator for K8s. Thanos or Cortex for long-term storage and HA. Consider for K8s-native monitoring.",
            costTier: "low",
          },
          {
            tool: "Grafana",
            summary: "Visualization platform for metrics, logs, and traces dashboards.",
            mag7: "Common for internal observability dashboards across data sources.",
            adoption: "common",
            decision: "Grafana Cloud for managed experience. LGTM stack (Loki, Grafana, Tempo, Mimir) for unified observability.",
            costTier: "variable",
          },
          {
            tool: "Datadog",
            summary: "SaaS monitoring suite with APM, logs, infrastructure, and synthetics.",
            mag7: "Common for speed-to-insight and unified observability without operational burden.",
            adoption: "common",
            decision: "Fast time-to-value but high cost at scale. Consider for teams prioritizing insights over cost. Per-host pricing model.",
            costTier: "high",
          },
          {
            tool: "Splunk",
            summary: "Log analytics platform with SIEM capabilities and machine learning.",
            mag7: "Common in security-focused organizations and enterprise SOCs.",
            adoption: "common",
            decision: "Strong security analytics and compliance features. High licensing costs. Consider for security-first logging needs.",
            costTier: "high",
          },
          {
            tool: "ELK Stack",
            summary: "Elasticsearch, Logstash, Kibana for self-hosted log aggregation.",
            mag7: "Common for self-hosted logging with full control over data.",
            adoption: "common",
            decision: "High operational burden. Elastic Cloud for managed version. Consider OpenSearch for open-source alternative.",
            costTier: "variable",
          },
          {
            tool: "OpenTelemetry",
            summary: "Vendor-neutral instrumentation for traces, metrics, and logs.",
            mag7: "Fast becoming the standard for portable observability instrumentation.",
            adoption: "standard",
            decision: "Future-proof instrumentation choice. Collector for pipeline flexibility. Adopt for new services, migrate existing gradually.",
            costTier: "low",
          },
          {
            tool: "Jaeger",
            summary: "Open-source distributed tracing from Uber with sampling and storage options.",
            mag7: "Common for self-hosted tracing with Kubernetes integration.",
            adoption: "common",
            decision: "Supports multiple storage backends. Adaptive sampling. Consider for self-hosted tracing with OpenTelemetry.",
            costTier: "low",
          },
          {
            tool: "Zipkin",
            summary: "Distributed tracing system from Twitter for latency analysis.",
            mag7: "Common in Java/Spring ecosystems for distributed tracing.",
            adoption: "common",
            decision: "Spring Cloud integration. Simpler than Jaeger. Consider for Spring-based architectures.",
            costTier: "low",
          },
          {
            tool: "Honeycomb",
            summary: "Observability platform built for high-cardinality data exploration.",
            mag7: "Selective for complex debugging requiring arbitrary dimension queries.",
            adoption: "selective",
            decision: "BubbleUp for anomaly detection. Trace-driven debugging. Consider for teams needing advanced exploration.",
            costTier: "high",
          },
          {
            tool: "New Relic",
            summary: "Full-stack observability platform with APM, infrastructure, and logs.",
            mag7: "Common for comprehensive observability with generous free tier.",
            adoption: "common",
            decision: "User-based pricing model. AI-powered insights. Consider for teams wanting unified platform.",
            costTier: "high",
          },
          {
            tool: "Dynatrace",
            summary: "AI-powered observability with automatic instrumentation.",
            mag7: "Common in enterprises requiring automatic discovery and AIOps.",
            adoption: "common",
            decision: "Davis AI for root cause analysis. Automatic instrumentation. Consider for complex enterprise environments.",
            costTier: "high",
          },
          {
            tool: "PagerDuty",
            summary: "Incident management platform with alerting, escalation, and on-call scheduling.",
            mag7: "Standard for incident response and on-call management.",
            adoption: "standard",
            decision: "Event orchestration for noise reduction. Status pages included. Consider for mature incident management processes.",
            costTier: "medium",
          },
          {
            tool: "Loki",
            summary: "Log aggregation system from Grafana Labs, designed for efficiency.",
            mag7: "High for cost-effective logging with Grafana integration.",
            adoption: "high",
            decision: "Labels-only indexing for cost efficiency. LogQL for queries. Consider for Grafana-centric observability stacks.",
            costTier: "low",
          },
          {
            tool: "Tempo",
            summary: "Distributed tracing backend from Grafana Labs with object storage.",
            mag7: "High for cost-effective tracing in Grafana ecosystem.",
            adoption: "high",
            decision: "Object storage backend for low cost. TraceQL for querying. Consider with Grafana and OpenTelemetry.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Data and Streaming",
        entries: [
          {
            tool: "Kafka",
            summary: "Distributed event streaming with high throughput and durability guarantees.",
            mag7: "Standard for high-throughput event streaming and real-time pipelines.",
            adoption: "standard",
            decision: "Confluent or MSK for managed experience. High operational complexity self-hosted. Consider for >100K events/sec.",
            costTier: "high",
          },
          {
            tool: "Redis",
            summary: "In-memory data store for caching, sessions, rate limiting, and pub/sub.",
            mag7: "Universal for caching layers and real-time data structures.",
            adoption: "universal",
            decision: "ElastiCache or MemoryDB for managed. Cluster mode for horizontal scaling. Consider Dragonfly for higher throughput.",
            costTier: "medium",
          },
          {
            tool: "Memcached",
            summary: "Simple in-memory caching with multi-threaded performance.",
            mag7: "Legacy but still common for simple key-value caching.",
            adoption: "legacy",
            decision: "Simpler than Redis but fewer features. Consider when only basic caching is needed. Declining adoption.",
            costTier: "low",
          },
          {
            tool: "PostgreSQL",
            summary: "Advanced open-source relational database with extensions ecosystem.",
            mag7: "Standard for OLTP workloads requiring SQL and extensibility.",
            adoption: "standard",
            decision: "Rich extension ecosystem (PostGIS, pgvector). Consider for complex queries, JSON support, and extensibility needs.",
            costTier: "variable",
          },
          {
            tool: "MySQL",
            summary: "Popular open-source relational database with wide tooling support.",
            mag7: "Standard in web application stacks, especially PHP ecosystems.",
            adoption: "standard",
            decision: "Simpler than PostgreSQL. Strong replication story. Consider for straightforward OLTP with web frameworks.",
            costTier: "variable",
          },
          {
            tool: "MongoDB",
            summary: "Document database with flexible schema and horizontal scaling.",
            mag7: "Selective for applications requiring flexible schemas and rapid iteration.",
            adoption: "selective",
            decision: "Atlas for managed. Good for early-stage products with evolving schemas. Consider PostgreSQL JSONB as alternative.",
            costTier: "medium",
          },
          {
            tool: "Elasticsearch",
            summary: "Distributed search and analytics engine for full-text and log data.",
            mag7: "Common for application search, log analytics, and SIEM workloads.",
            adoption: "common",
            decision: "OpenSearch as fork alternative. High memory requirements. Consider for search-heavy workloads.",
            costTier: "high",
          },
          {
            tool: "Snowflake",
            summary: "Cloud data warehouse with separation of storage and compute.",
            mag7: "High for analytics teams requiring data sharing and minimal ops.",
            adoption: "high",
            decision: "Multi-cluster warehouse for workload isolation. Data sharing for cross-org analytics. Consider for BI-focused data platforms.",
            costTier: "high",
          },
          {
            tool: "Airflow",
            summary: "Workflow orchestration for batch ETL pipelines with DAG definitions.",
            mag7: "Standard for scheduled data pipeline orchestration.",
            adoption: "standard",
            decision: "MWAA or Composer for managed. Complex to operate self-hosted. Consider Prefect or Dagster as modern alternatives.",
            costTier: "medium",
          },
          {
            tool: "Flink",
            summary: "Stream processing with exactly-once semantics and event-time processing.",
            mag7: "Selective for low-latency streaming requiring complex event processing.",
            adoption: "selective",
            decision: "Strong for stateful stream processing. Steeper learning curve than Spark. Consider for sub-second latency requirements.",
            costTier: "high",
          },
          {
            tool: "Spark",
            summary: "Unified engine for batch processing, SQL, streaming, and ML.",
            mag7: "Standard for large-scale data processing and ML pipelines.",
            adoption: "standard",
            decision: "Databricks or EMR for managed. Memory-intensive. Consider for batch ETL, large-scale ML, and interactive analytics.",
            costTier: "high",
          },
          {
            tool: "Hadoop",
            summary: "Distributed storage (HDFS) and compute (MapReduce) framework.",
            mag7: "Declining as workloads migrate to cloud object storage and Spark.",
            adoption: "legacy",
            decision: "Legacy but still present in large enterprises. Migration path to cloud storage + Spark. Avoid for greenfield projects.",
            costTier: "high",
          },
          {
            tool: "Trino",
            summary: "Distributed SQL query engine for federated queries across data sources.",
            mag7: "Common for interactive analytics across data lakes and warehouses.",
            adoption: "common",
            decision: "Query federation across S3, Hive, Postgres. Starburst for enterprise support. Consider for multi-source analytics.",
            costTier: "medium",
          },
          {
            tool: "RabbitMQ",
            summary: "Message broker supporting AMQP, MQTT, and STOMP protocols.",
            mag7: "Common for traditional message queuing with routing flexibility.",
            adoption: "common",
            decision: "Exchange types for complex routing. Clustering for HA. Consider for AMQP workloads or legacy integration.",
            costTier: "low",
          },
          {
            tool: "NATS",
            summary: "Lightweight messaging system for cloud-native applications.",
            mag7: "Selective for high-performance, low-latency messaging.",
            adoption: "selective",
            decision: "JetStream for persistence. Extremely low latency. Consider for edge or performance-critical messaging.",
            costTier: "low",
          },
          {
            tool: "Apache Pulsar",
            summary: "Multi-tenant messaging with tiered storage and geo-replication.",
            mag7: "Selective as unified messaging and streaming platform.",
            adoption: "selective",
            decision: "Tiered storage separates compute and storage. Geo-replication built-in. Consider for multi-tenant messaging.",
            costTier: "medium",
          },
          {
            tool: "Debezium",
            summary: "Change Data Capture platform for streaming database changes.",
            mag7: "Standard for database change streaming to Kafka.",
            adoption: "standard",
            decision: "Connectors for major databases. Kafka Connect based. Essential for event sourcing and data sync.",
            costTier: "low",
          },
          {
            tool: "dbt",
            summary: "Data transformation tool for analytics engineering in SQL.",
            mag7: "Standard for modern analytics engineering workflows.",
            adoption: "standard",
            decision: "SQL-first transformations. dbt Cloud for managed experience. Essential for analytics engineering.",
            costTier: "variable",
          },
          {
            tool: "Prefect",
            summary: "Modern workflow orchestration with Python-native API.",
            mag7: "Selective as modern alternative to Airflow.",
            adoption: "selective",
            decision: "Better developer experience than Airflow. Prefect Cloud for managed. Consider for Python-centric teams.",
            costTier: "variable",
          },
          {
            tool: "Dagster",
            summary: "Data orchestration platform with software-defined assets.",
            mag7: "Selective for asset-centric data orchestration.",
            adoption: "selective",
            decision: "Asset-based model for lineage. Strong testing story. Consider for data mesh architectures.",
            costTier: "variable",
          },
          {
            tool: "CockroachDB",
            summary: "Distributed SQL database with PostgreSQL compatibility.",
            mag7: "Selective for globally distributed transactional workloads.",
            adoption: "selective",
            decision: "Serializable isolation. Automatic sharding. Consider for global strong consistency needs.",
            costTier: "high",
          },
          {
            tool: "TiDB",
            summary: "MySQL-compatible distributed database with HTAP capabilities.",
            mag7: "Selective for MySQL workloads requiring horizontal scaling.",
            adoption: "selective",
            decision: "MySQL wire protocol compatibility. TiFlash for analytics. Consider for MySQL scale-out needs.",
            costTier: "high",
          },
          {
            tool: "ScyllaDB",
            summary: "Cassandra-compatible database with better performance.",
            mag7: "Selective as high-performance Cassandra alternative.",
            adoption: "selective",
            decision: "10x Cassandra performance claims. CQL compatible. Consider for existing Cassandra workloads needing performance.",
            costTier: "high",
          },
          {
            tool: "Cassandra",
            summary: "Wide-column distributed database for high write throughput.",
            mag7: "Common for time-series and high-volume write workloads.",
            adoption: "common",
            decision: "Write-optimized. Tunable consistency. High operational complexity. Consider for massive write scale.",
            costTier: "high",
          },
          {
            tool: "ClickHouse",
            summary: "Column-oriented OLAP database for real-time analytics.",
            mag7: "High for real-time analytics requiring sub-second queries.",
            adoption: "high",
            decision: "Exceptional query performance on large datasets. ClickHouse Cloud for managed. Consider for analytics dashboards.",
            costTier: "variable",
          },
          {
            tool: "Druid",
            summary: "Real-time analytics database for OLAP workloads.",
            mag7: "Selective for sub-second OLAP on streaming data.",
            adoption: "selective",
            decision: "Real-time ingestion + historical queries. Complex to operate. Consider for real-time dashboards.",
            costTier: "high",
          },
          {
            tool: "InfluxDB",
            summary: "Purpose-built time-series database with flux query language.",
            mag7: "Common for IoT, metrics, and time-series workloads.",
            adoption: "common",
            decision: "Time-series optimized. InfluxDB Cloud for managed. Consider for metrics and IoT data.",
            costTier: "variable",
          },
          {
            tool: "TimescaleDB",
            summary: "PostgreSQL extension for time-series data.",
            mag7: "Common for time-series on existing PostgreSQL infrastructure.",
            adoption: "common",
            decision: "Full PostgreSQL compatibility. Hypertables for partitioning. Consider for PostgreSQL shops with time-series needs.",
            costTier: "variable",
          },
          {
            tool: "Neo4j",
            summary: "Native graph database with Cypher query language.",
            mag7: "Common for relationship-heavy data like social graphs and fraud detection.",
            adoption: "common",
            decision: "Cypher for graph queries. Aura for managed. Consider for highly connected data.",
            costTier: "high",
          },
          {
            tool: "etcd",
            summary: "Distributed key-value store for configuration and service discovery.",
            mag7: "Standard as Kubernetes backing store and distributed coordination.",
            adoption: "standard",
            decision: "Strong consistency via Raft. K8s foundation. Consider for distributed configuration.",
            costTier: "low",
          },
          {
            tool: "ZooKeeper",
            summary: "Distributed coordination service for configuration and leader election.",
            mag7: "Legacy but still common in Kafka and Hadoop ecosystems.",
            adoption: "legacy",
            decision: "Being replaced by Raft-based alternatives. Still required by older Kafka. Avoid for new projects.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Security and Identity",
        entries: [
          {
            tool: "OAuth 2.0",
            summary: "Delegated authorization framework for third-party access.",
            mag7: "Universal standard for authorization flows.",
            adoption: "universal",
            decision: "Use PKCE for public clients. Consider OIDC for authentication on top. Choose appropriate grant type for use case.",
            costTier: "low",
          },
          {
            tool: "JWT",
            summary: "Stateless token format for claims-based authentication.",
            mag7: "Standard for API security and microservice authentication.",
            adoption: "standard",
            decision: "Short expiry with refresh tokens. Validate signatures server-side. Consider opaque tokens for revocability.",
            costTier: "low",
          },
          {
            tool: "mTLS",
            summary: "Mutual TLS for service-to-service identity verification.",
            mag7: "Standard in zero trust architectures and service meshes.",
            adoption: "standard",
            decision: "Certificate management complexity. Service mesh handles automatically. Essential for zero trust.",
            costTier: "low",
          },
          {
            tool: "SPIFFE/SPIRE",
            summary: "Workload identity standard and runtime for service authentication.",
            mag7: "Selective in large service meshes requiring portable identity.",
            adoption: "selective",
            decision: "Cloud-agnostic workload identity. Complex to operate. Consider for multi-cloud or hybrid deployments.",
            costTier: "medium",
          },
          {
            tool: "HashiCorp Vault",
            summary: "Secrets management with dynamic credentials and encryption as a service.",
            mag7: "Standard for enterprise secrets management across environments.",
            adoption: "standard",
            decision: "Dynamic secrets reduce credential sprawl. PKI management included. Consider for complex multi-environment secrets.",
            costTier: "medium",
          },
          {
            tool: "Okta",
            summary: "Enterprise identity platform with SSO, MFA, and lifecycle management.",
            mag7: "Standard for enterprise workforce and customer identity.",
            adoption: "standard",
            decision: "Workforce Identity for employees, Customer Identity for B2C. Consider for enterprise SSO requirements.",
            costTier: "high",
          },
          {
            tool: "Auth0",
            summary: "Developer-focused identity platform with extensive SDKs.",
            mag7: "Common for customer-facing authentication with rapid implementation.",
            adoption: "common",
            decision: "Excellent developer experience. Actions for customization. Consider for B2C and developer-first auth.",
            costTier: "variable",
          },
          {
            tool: "OPA",
            summary: "Open Policy Agent for unified policy enforcement across the stack.",
            mag7: "Standard for declarative policy as code in cloud-native environments.",
            adoption: "standard",
            decision: "Rego policy language. Gatekeeper for K8s. Consider for consistent policy enforcement.",
            costTier: "low",
          },
          {
            tool: "Checkov",
            summary: "Static analysis for Infrastructure as Code security.",
            mag7: "Common for IaC security scanning in CI pipelines.",
            adoption: "common",
            decision: "Terraform, CloudFormation, K8s support. Custom policies possible. Consider for shift-left security.",
            costTier: "low",
          },
          {
            tool: "SOPS",
            summary: "Secrets encryption for files using cloud KMS or PGP.",
            mag7: "Common for encrypting secrets in git repositories.",
            adoption: "common",
            decision: "Integrates with AWS KMS, GCP KMS, Azure Key Vault. Consider for GitOps secret management.",
            costTier: "low",
          },
          {
            tool: "Trivy",
            summary: "Comprehensive vulnerability scanner for containers and IaC.",
            mag7: "High for container security scanning in CI/CD pipelines.",
            adoption: "high",
            decision: "Container images, filesystems, git repos, IaC. Fast scanning. Consider for comprehensive vulnerability scanning.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Vector Search and RAG",
        entries: [
          {
            tool: "FAISS",
            summary: "Facebook AI library for efficient similarity search.",
            mag7: "Common for custom retrieval pipelines and research prototypes.",
            adoption: "common",
            decision: "High performance but requires custom integration. Good for batch indexing. Consider managed alternatives for production.",
            costTier: "low",
          },
          {
            tool: "Pinecone",
            summary: "Managed vector database with hybrid search and metadata filtering.",
            mag7: "Common for rapid RAG productization without operational burden.",
            adoption: "common",
            decision: "Fastest time-to-production. Higher cost at scale. Serverless tier for variable workloads.",
            costTier: "high",
          },
          {
            tool: "Weaviate",
            summary: "Open-source vector database with GraphQL API and modules.",
            mag7: "Selective for self-hosted RAG with multi-modal support.",
            adoption: "selective",
            decision: "Good module ecosystem. Self-hosted complexity. Consider for multi-modal search requirements.",
            costTier: "variable",
          },
          {
            tool: "Milvus",
            summary: "Open-source vector database designed for billion-scale similarity search.",
            mag7: "Common for self-managed stacks requiring scale and control.",
            adoption: "common",
            decision: "Strong performance at scale. Zilliz Cloud for managed. Consider for large-scale self-hosted vector search.",
            costTier: "variable",
          },
          {
            tool: "pgvector",
            summary: "PostgreSQL extension adding vector similarity search.",
            mag7: "Common for moderate-scale RAG within existing Postgres infrastructure.",
            adoption: "common",
            decision: "Leverage existing Postgres investment. Limited scale vs dedicated vector DBs. Good for <10M vectors.",
            costTier: "low",
          },
          {
            tool: "Qdrant",
            summary: "Vector database with filtering and payload storage.",
            mag7: "High for production RAG with complex filtering requirements.",
            adoption: "high",
            decision: "Rust-based performance. Rich filtering. Cloud and self-hosted options. Consider for filtered vector search.",
            costTier: "variable",
          },
          {
            tool: "LanceDB",
            summary: "Serverless vector database built on Lance format.",
            mag7: "Emerging for embedded vector search in applications.",
            adoption: "emerging",
            decision: "Embedded or serverless modes. Lance columnar format. Consider for embedded RAG or prototyping.",
            costTier: "low",
          },
          {
            tool: "Vespa",
            summary: "Search engine combining vector search with traditional search.",
            mag7: "Selective for hybrid search combining semantic and lexical.",
            adoption: "selective",
            decision: "Production-grade at Yahoo scale. Complex to operate. Consider for hybrid search at scale.",
            costTier: "high",
          },
          {
            tool: "Chroma",
            summary: "Open-source embedding database for AI applications.",
            mag7: "High for development and small-scale production RAG.",
            adoption: "high",
            decision: "Easy to get started. In-memory and persistent modes. Consider for prototyping and smaller deployments.",
            costTier: "low",
          },
        ],
      },
      {
        name: "AI and ML Frameworks",
        entries: [
          {
            tool: "PyTorch",
            summary: "Deep learning framework with dynamic computation graphs.",
            mag7: "Standard for research and increasingly production ML workloads.",
            adoption: "standard",
            decision: "Dynamic graphs for flexibility. Strong ecosystem. Consider for research and custom models.",
            costTier: "low",
          },
          {
            tool: "TensorFlow",
            summary: "ML platform with static graphs and production serving.",
            mag7: "Common for production ML with TensorFlow Serving.",
            adoption: "common",
            decision: "TFX for production pipelines. TensorFlow Lite for mobile. Consider for established production ML pipelines.",
            costTier: "low",
          },
          {
            tool: "Hugging Face",
            summary: "Platform for sharing and deploying ML models and datasets.",
            mag7: "Standard for pre-trained models and NLP/LLM development.",
            adoption: "standard",
            decision: "Transformers library for model access. Hub for sharing. Inference Endpoints for serving. Essential for modern NLP.",
            costTier: "variable",
          },
          {
            tool: "MLflow",
            summary: "ML lifecycle platform for tracking, projects, and model registry.",
            mag7: "Standard for experiment tracking and model versioning.",
            adoption: "standard",
            decision: "Experiment tracking, model registry, deployment. Databricks managed option. Consider for MLOps standardization.",
            costTier: "variable",
          },
          {
            tool: "Kubeflow",
            summary: "ML toolkit for Kubernetes with pipelines and notebooks.",
            mag7: "Common for K8s-native ML platform teams.",
            adoption: "common",
            decision: "Pipelines for ML workflows. Katib for hyperparameter tuning. Complex to operate. Consider for K8s-first ML.",
            costTier: "high",
          },
          {
            tool: "Weights & Biases",
            summary: "ML experiment tracking and visualization platform.",
            mag7: "High for ML teams needing experiment management and collaboration.",
            adoption: "high",
            decision: "Sweeps for hyperparameter optimization. Artifacts for versioning. Consider for team ML collaboration.",
            costTier: "medium",
          },
          {
            tool: "Ray",
            summary: "Distributed computing framework for ML and Python workloads.",
            mag7: "High for distributed ML training and inference.",
            adoption: "high",
            decision: "Ray Serve for model serving. Ray Tune for hyperparameter tuning. Consider for distributed ML at scale.",
            costTier: "variable",
          },
        ],
      },
      {
        name: "LLM and GenAI",
        entries: [
          {
            tool: "LangChain",
            summary: "Framework for building applications with LLMs.",
            mag7: "High for LLM application development with chains and agents.",
            adoption: "high",
            decision: "Abstractions for prompts, chains, agents. Large ecosystem. Consider for rapid LLM app development.",
            costTier: "low",
          },
          {
            tool: "LangGraph",
            summary: "Framework for building stateful, multi-actor LLM applications.",
            mag7: "High for complex agent workflows with state management.",
            adoption: "high",
            decision: "Graph-based workflow control. Persistence built-in. Consider for production agent systems.",
            costTier: "low",
          },
          {
            tool: "vLLM",
            summary: "High-throughput LLM serving with PagedAttention.",
            mag7: "Standard for self-hosted LLM inference optimization.",
            adoption: "standard",
            decision: "PagedAttention for memory efficiency. Continuous batching. Consider for self-hosted LLM serving.",
            costTier: "low",
          },
          {
            tool: "TensorRT-LLM",
            summary: "NVIDIA library for optimized LLM inference on GPUs.",
            mag7: "Selective for maximum LLM inference performance on NVIDIA hardware.",
            adoption: "selective",
            decision: "Best performance on NVIDIA GPUs. Model compilation required. Consider for latency-critical inference.",
            costTier: "low",
          },
          {
            tool: "Ollama",
            summary: "Local LLM running with simple CLI interface.",
            mag7: "High for local development and testing with open models.",
            adoption: "high",
            decision: "Easy local model running. Model library included. Consider for development and edge deployment.",
            costTier: "low",
          },
          {
            tool: "LlamaIndex",
            summary: "Data framework for LLM applications with indexing.",
            mag7: "High for RAG applications with structured data ingestion.",
            adoption: "high",
            decision: "Strong data connectors. Index abstractions. Consider for data-heavy RAG applications.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Chaos Engineering and Testing",
        entries: [
          {
            tool: "Chaos Monkey",
            summary: "Netflix tool for randomly terminating instances.",
            mag7: "Standard originator of chaos engineering practices.",
            adoption: "standard",
            decision: "Part of Simian Army. Random instance termination. Consider for resilience testing culture.",
            costTier: "low",
          },
          {
            tool: "Gremlin",
            summary: "Enterprise chaos engineering platform with safety controls.",
            mag7: "Common for controlled chaos experiments with guardrails.",
            adoption: "common",
            decision: "SaaS chaos platform. Safety controls built-in. Consider for enterprise chaos engineering.",
            costTier: "high",
          },
          {
            tool: "Litmus",
            summary: "Cloud-native chaos engineering for Kubernetes.",
            mag7: "Common for K8s-native chaos experiments.",
            adoption: "common",
            decision: "ChaosHub for experiment library. K8s-native. Consider for Kubernetes chaos testing.",
            costTier: "low",
          },
          {
            tool: "Jepsen",
            summary: "Distributed systems testing tool for consistency verification.",
            mag7: "Standard for validating distributed database consistency claims.",
            adoption: "standard",
            decision: "Tests consistency under failure. Used by major databases. Consider for distributed system validation.",
            costTier: "low",
          },
          {
            tool: "TLA+",
            summary: "Formal specification language for concurrent systems.",
            mag7: "Selective for formal verification of distributed algorithms.",
            adoption: "selective",
            decision: "Model checking for correctness. Used at AWS for critical systems. Consider for protocol design.",
            costTier: "low",
          },
          {
            tool: "k6",
            summary: "Modern load testing tool with JavaScript scripting.",
            mag7: "High for developer-friendly performance testing.",
            adoption: "high",
            decision: "JavaScript test scripts. Cloud and local execution. Consider for modern load testing.",
            costTier: "variable",
          },
          {
            tool: "Locust",
            summary: "Python-based load testing with distributed execution.",
            mag7: "Common for Python teams needing custom load patterns.",
            adoption: "common",
            decision: "Python test scripts. Distributed mode. Consider for Python-centric teams.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Feature Flags and Experimentation",
        entries: [
          {
            tool: "LaunchDarkly",
            summary: "Feature management platform with targeting and experimentation.",
            mag7: "Standard for enterprise feature flag management.",
            adoption: "standard",
            decision: "SDK for all languages. Targeting rules. A/B testing. Consider for enterprise feature management.",
            costTier: "high",
          },
          {
            tool: "Flagsmith",
            summary: "Open-source feature flag and remote config service.",
            mag7: "Common for self-hosted feature flag requirements.",
            adoption: "common",
            decision: "Self-hosted or cloud options. Segments and environments. Consider for cost-conscious feature flags.",
            costTier: "variable",
          },
          {
            tool: "Unleash",
            summary: "Open-source feature toggle system with activation strategies.",
            mag7: "Common for self-hosted feature management.",
            adoption: "common",
            decision: "Activation strategies for gradual rollouts. Self-hosted. Consider for open-source feature flags.",
            costTier: "low",
          },
        ],
      },
      {
        name: "Protocols and Serialization",
        entries: [
          {
            tool: "Protocol Buffers",
            summary: "Google's language-neutral serialization format.",
            mag7: "Standard for typed service-to-service communication.",
            adoption: "standard",
            decision: "Strong typing with proto files. gRPC foundation. Consider for internal APIs with defined schemas.",
            costTier: "low",
          },
          {
            tool: "Avro",
            summary: "Row-based serialization with schema evolution support.",
            mag7: "Standard in Kafka ecosystems for event serialization.",
            adoption: "standard",
            decision: "Schema Registry integration. Good schema evolution. Consider for Kafka event serialization.",
            costTier: "low",
          },
          {
            tool: "HTTP/2",
            summary: "Binary protocol with multiplexing and header compression.",
            mag7: "Standard for modern web services and gRPC transport.",
            adoption: "standard",
            decision: "Multiplexing reduces connection overhead. Server push available. Foundation for gRPC.",
            costTier: "low",
          },
          {
            tool: "HTTP/3 QUIC",
            summary: "UDP-based protocol with improved connection establishment.",
            mag7: "Emerging for latency-sensitive applications.",
            adoption: "emerging",
            decision: "0-RTT connection establishment. Better mobile performance. Consider for global user bases.",
            costTier: "low",
          },
          {
            tool: "WebSockets",
            summary: "Full-duplex communication over single TCP connection.",
            mag7: "Standard for real-time bidirectional communication.",
            adoption: "standard",
            decision: "Persistent connections. Lower overhead than polling. Consider for real-time features.",
            costTier: "low",
          },
          {
            tool: "Server-Sent Events",
            summary: "HTTP-based server-to-client push for real-time updates.",
            mag7: "Common for simpler real-time update patterns.",
            adoption: "common",
            decision: "Simpler than WebSockets for server push. Auto-reconnect. Consider for one-way real-time updates.",
            costTier: "low",
          },
        ],
      },
    ],
  },
];

// Helper to get section by provider name
export function getWikiSectionByProvider(provider: string): KnowledgeBaseWikiSection | undefined {
  return knowledgeBaseWikiSections.find((s) => s.provider === provider);
}

// Individual provider wiki docs
export const wikiAwsDoc: KnowledgeBaseDoc = {
  slug: "wiki-aws",
  title: "AWS Services Wiki",
  date: "2026-01-22",
  sourceFile: "wiki-aws.md",
  content: "Amazon Web Services infrastructure reference for Principal TPM architectural decisions.",
};

export const wikiGcpDoc: KnowledgeBaseDoc = {
  slug: "wiki-gcp",
  title: "Google Cloud Wiki",
  date: "2026-01-22",
  sourceFile: "wiki-gcp.md",
  content: "Google Cloud Platform infrastructure reference for Principal TPM architectural decisions.",
};

export const wikiAzureDoc: KnowledgeBaseDoc = {
  slug: "wiki-azure",
  title: "Microsoft Azure Wiki",
  date: "2026-01-22",
  sourceFile: "wiki-azure.md",
  content: "Microsoft Azure infrastructure reference for Principal TPM architectural decisions.",
};

export const wikiCrossCloudDoc: KnowledgeBaseDoc = {
  slug: "wiki-crosscloud",
  title: "Cross-Cloud & Open Source Wiki",
  date: "2026-01-22",
  sourceFile: "wiki-crosscloud.md",
  content: "Cloud-agnostic and open source tools reference for Principal TPM architectural decisions.",
};

// Main wiki index doc (links to individual provider pages)
export const knowledgeBaseWikiDoc: KnowledgeBaseDoc = {
  slug: "wiki",
  title: "Infrastructure Wiki",
  date: "2026-01-22",
  sourceFile: "wiki.md",
  content: "Interactive infrastructure reference for Principal TPM architectural decisions.",
};

// All wiki docs for easy iteration
export const allWikiDocs: KnowledgeBaseDoc[] = [
  knowledgeBaseWikiDoc,
  wikiAwsDoc,
  wikiGcpDoc,
  wikiAzureDoc,
  wikiCrossCloudDoc,
];

// Provider mapping for wiki pages
export const wikiProviderMapping: Record<string, string> = {
  "wiki-aws": "AWS",
  "wiki-gcp": "Google Cloud",
  "wiki-azure": "Microsoft Azure",
  "wiki-crosscloud": "Cross-Cloud and Open Source",
};

// Check if a slug is a wiki page
export function isWikiSlug(slug: string): boolean {
  return slug === "wiki" || slug.startsWith("wiki-");
}

// Get provider-specific sections (for Cloudflare, include with cross-cloud)
export function getWikiSectionsForSlug(slug: string): KnowledgeBaseWikiSection[] {
  if (slug === "wiki") {
    return knowledgeBaseWikiSections;
  }
  const provider = wikiProviderMapping[slug];
  if (!provider) return [];

  // For cross-cloud, include both Cloudflare and Cross-Cloud sections
  if (slug === "wiki-crosscloud") {
    return knowledgeBaseWikiSections.filter(
      (s) => s.provider === "Cloudflare" || s.provider === "Cross-Cloud and Open Source"
    );
  }

  return knowledgeBaseWikiSections.filter((s) => s.provider === provider);
}
