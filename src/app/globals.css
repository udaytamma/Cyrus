@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Restrict Tailwind scanning to src/ only — prevents scanning gemini-responses/ (89 files, 4MB) */
@source "../../src";

/* CSS Variables for theming */
:root {
  /* Light mode colors - Goldenrod theme (default) */
  --background: #ffffff;
  --foreground: #1c1917;
  --muted: #faf9f6;
  --muted-foreground: #6b6560;
  --border: #e5e2db;
  --primary: #DAA520;
  --primary-foreground: #1c1917;
  --secondary: #B8860B;
  --accent: #CD853F;
  --card: #ffffff;
  --card-foreground: #1c1917;
  --success: #059669;
  --warning: #ca8a04;
  --danger: #dc2626;
}

[data-theme="dark"] {
  --background: #18181b;
  --foreground: #fafaf9;
  --muted: #27272a;
  --muted-foreground: #b4b4bc;
  --border: #3f3f46;
  --primary: #F4CA64;
  --primary-foreground: #18181b;
  --secondary: #DAA520;
  --accent: #E6BE8A;
  --card: #27272a;
  --card-foreground: #fafaf9;
}

/* =============================================================================
   Color Theme Variants (Accent Colors)
   ============================================================================= */

/* Steel Theme - Light (higher specificity with :root) */
:root[data-color-theme="steel"] {
  --primary: #64748B;
  --primary-foreground: #ffffff;
  --secondary: #475569;
  --accent: #94A3B8;
}

/* Steel Theme - Dark */
:root[data-theme="dark"][data-color-theme="steel"] {
  --primary: #94A3B8;
  --primary-foreground: #18181b;
  --secondary: #64748B;
  --accent: #CBD5E1;
}

/* Violet Theme - Light (higher specificity with :root) */
:root[data-color-theme="violet"] {
  --primary: #8B5CF6;
  --primary-foreground: #ffffff;
  --secondary: #7C3AED;
  --accent: #A78BFA;
}

/* Violet Theme - Dark */
:root[data-theme="dark"][data-color-theme="violet"] {
  --primary: #A78BFA;
  --primary-foreground: #18181b;
  --secondary: #8B5CF6;
  --accent: #C4B5FD;
}

/* Coral Theme (Orange) - Light */
:root[data-color-theme="coral"] {
  --primary: #F97316;
  --primary-foreground: #ffffff;
  --secondary: #EA580C;
  --accent: #FB923C;
}

/* Coral Theme (Orange) - Dark */
:root[data-theme="dark"][data-color-theme="coral"] {
  --primary: #FB923C;
  --primary-foreground: #18181b;
  --secondary: #F97316;
  --accent: #FDBA74;
}

/* Honey Theme (Amber) - Light */
:root[data-color-theme="honey"] {
  --primary: #F59E0B;
  --primary-foreground: #18181b;
  --secondary: #D97706;
  --accent: #FBBF24;
}

/* Honey Theme (Amber) - Dark */
:root[data-theme="dark"][data-color-theme="honey"] {
  --primary: #FBBF24;
  --primary-foreground: #18181b;
  --secondary: #F59E0B;
  --accent: #FCD34D;
}

/* Aqua Theme (Cyan) - Light */
:root[data-color-theme="aqua"] {
  --primary: #06B6D4;
  --primary-foreground: #ffffff;
  --secondary: #0891B2;
  --accent: #22D3EE;
}

/* Aqua Theme (Cyan) - Dark */
:root[data-theme="dark"][data-color-theme="aqua"] {
  --primary: #22D3EE;
  --primary-foreground: #18181b;
  --secondary: #06B6D4;
  --accent: #67E8F9;
}

/* Magenta Theme (Fuchsia) - Light */
:root[data-color-theme="magenta"] {
  --primary: #D946EF;
  --primary-foreground: #ffffff;
  --secondary: #C026D3;
  --accent: #E879F9;
}

/* Magenta Theme (Fuchsia) - Dark */
:root[data-theme="dark"][data-color-theme="magenta"] {
  --primary: #E879F9;
  --primary-foreground: #18181b;
  --secondary: #D946EF;
  --accent: #F0ABFC;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-accent: var(--accent);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-danger: var(--danger);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Layout - single source of truth for page width */
  --max-width-content: 1330px;
}

/* Base styles */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  font-size: 17px; /* Slightly larger base for better readability */
}

/* Responsive font scaling for smaller screens */
@media (max-width: 640px) {
  html {
    font-size: 15px;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), system-ui, -apple-system, sans-serif;
  line-height: 1.6;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Selection - uses primary color with transparency */
::selection {
  background-color: color-mix(in srgb, var(--primary) 30%, transparent);
}

/* Focus styles - enhanced accessibility */
a:focus-visible,
button:focus-visible,
[role="button"]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Focus ring utility class */
.focus-ring {
  outline: none;
}

.focus-ring:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Smooth transitions for theme changes */
*,
*::before,
*::after {
  transition-property: background-color, border-color;
  transition-duration: 0.15s;
  transition-timing-function: ease;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--muted);
}

::-webkit-scrollbar-thumb {
  background: var(--muted-foreground);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--foreground);
}

/* Dark mode scrollbar - more visible thumb */
[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: rgba(180, 180, 188, 0.5);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: rgba(180, 180, 188, 0.8);
}

/* Code blocks */
pre, code {
  font-family: var(--font-mono), ui-monospace, monospace;
}

/* Utility classes */
.gradient-text {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-bg {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
}

/* =============================================================================
   Typography Enhancements
   ============================================================================= */

/* Premium letter-spacing for large headings */
h1, .text-4xl, .text-5xl, .text-6xl {
  letter-spacing: -0.02em;
}

h2, .text-2xl, .text-3xl {
  letter-spacing: -0.01em;
}

/* Hero tagline line height */
.hero-tagline {
  line-height: 1.625; /* leading-relaxed equivalent */
}

/* =============================================================================
   Prose / Typography styles for documentation
   ============================================================================= */

.prose {
  color: var(--foreground);
  max-width: 65ch;
  line-height: 1.75;
}

.prose.max-w-none {
  max-width: none;
}

/* Headings */
.prose h1 {
  color: var(--foreground);
  font-weight: 800;
  font-size: 2.25em;
  margin-top: 0;
  margin-bottom: 0.8888889em;
  line-height: 1.1111111;
}

.prose h2 {
  color: var(--foreground);
  font-weight: 700;
  font-size: 1.5em;
  margin-top: 2em;
  margin-bottom: 1em;
  line-height: 1.3333333;
  border-bottom: 1px solid var(--border);
  padding-bottom: 0.5em;
}

.prose h3 {
  color: var(--foreground);
  font-weight: 600;
  font-size: 1.25em;
  margin-top: 1.6em;
  margin-bottom: 0.6em;
  line-height: 1.6;
}

.prose h4 {
  color: var(--foreground);
  font-weight: 600;
  font-size: 1em;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.5;
}

/* Paragraphs */
.prose p {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}

.prose .lead {
  color: var(--muted-foreground);
  font-size: 1.25em;
  line-height: 1.6;
  margin-top: 1.2em;
  margin-bottom: 1.2em;
}

/* Links */
.prose a {
  color: var(--primary);
  text-decoration: underline;
  font-weight: 500;
}

.prose a:hover {
  color: var(--secondary);
}

/* External link indicator - shows ↗ icon for http links */
.prose a[href^="http"]:not([href*="zeroleaf.dev"]):not([href*="localhost"])::after {
  content: " ↗";
  font-size: 0.75em;
  opacity: 0.6;
  vertical-align: super;
}

/* Strong/Bold */
.prose strong {
  color: var(--foreground);
  font-weight: 600;
}

/* Code */
.prose code {
  color: var(--foreground);
  background-color: var(--muted);
  padding: 0.2em 0.4em;
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-weight: 500;
}

.prose pre {
  color: var(--foreground);
  background-color: var(--muted);
  overflow-x: auto;
  font-size: 0.875em;
  line-height: 1.7142857;
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
  border-radius: 0.375rem;
  padding: 0.8571429em 1.1428571em;
}

.prose pre code {
  background-color: transparent;
  border-width: 0;
  border-radius: 0;
  padding: 0;
  font-weight: inherit;
  color: inherit;
  font-size: inherit;
  font-family: inherit;
  line-height: inherit;
}

/* Lists */
.prose ul {
  list-style-type: disc;
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-left: 1.625em;
}

.prose ol {
  list-style-type: decimal;
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-left: 1.625em;
}

.prose li {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.prose ul > li {
  padding-left: 0.375em;
}

.prose ol > li {
  padding-left: 0.375em;
}

.prose ul ul, .prose ul ol, .prose ol ul, .prose ol ol {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}

/* Blockquotes */
.prose blockquote {
  font-weight: 500;
  font-style: italic;
  color: var(--foreground);
  border-left: 0.25rem solid var(--primary);
  margin-top: 1.6em;
  margin-bottom: 1.6em;
  padding-left: 1em;
}

.prose blockquote p:first-of-type::before {
  content: none;
}

.prose blockquote p:last-of-type::after {
  content: none;
}

/* Horizontal rules */
.prose hr {
  border-color: var(--border);
  border-top-width: 1px;
  margin-top: 3em;
  margin-bottom: 3em;
}

/* Tables */
.prose table {
  width: 100%;
  table-layout: auto;
  text-align: left;
  margin-top: 2em;
  margin-bottom: 2em;
  font-size: 0.875em;
  line-height: 1.7142857;
}

.prose thead {
  border-bottom-width: 1px;
  border-bottom-color: var(--border);
}

.prose thead th {
  color: var(--foreground);
  font-weight: 600;
  vertical-align: bottom;
  padding-right: 0.5714286em;
  padding-bottom: 0.5714286em;
  padding-left: 0.5714286em;
}

.prose tbody tr {
  border-bottom-width: 1px;
  border-bottom-color: var(--border);
}

.prose tbody tr:last-child {
  border-bottom-width: 0;
}

.prose tbody td {
  vertical-align: baseline;
  padding: 0.5714286em;
}

/* Images and figures */
.prose img {
  margin-top: 2em;
  margin-bottom: 2em;
}

.prose figure {
  margin-top: 2em;
  margin-bottom: 2em;
}

.prose figcaption {
  color: var(--muted-foreground);
  font-size: 0.875em;
  line-height: 1.4285714;
  margin-top: 0.8571429em;
}

/* Prose color variants */
.prose-slate {
  --prose-body: var(--foreground);
  --prose-headings: var(--foreground);
}

/* Dark mode support */
.dark\:prose-invert {
  --prose-body: var(--foreground);
  --prose-headings: var(--foreground);
}

[data-theme="dark"] .prose {
  color: var(--foreground);
}

[data-theme="dark"] .prose h1,
[data-theme="dark"] .prose h2,
[data-theme="dark"] .prose h3,
[data-theme="dark"] .prose h4 {
  color: var(--foreground);
}

[data-theme="dark"] .prose strong {
  color: var(--foreground);
}

[data-theme="dark"] .prose a {
  color: var(--primary);
}

[data-theme="dark"] .prose blockquote {
  border-left-color: var(--primary);
  color: var(--muted-foreground);
}

[data-theme="dark"] .prose code {
  background-color: var(--muted);
}

[data-theme="dark"] .prose pre {
  background-color: var(--muted);
}

[data-theme="dark"] .prose hr {
  border-color: var(--border);
}

[data-theme="dark"] .prose thead {
  border-bottom-color: var(--border);
}

[data-theme="dark"] .prose tbody tr {
  border-bottom-color: var(--border);
}

/* =============================================================================
   Print Styles
   ============================================================================= */
@media print {
  /* Page setup */
  @page {
    margin: 1in;
    size: letter;
  }

  /* Reset colors for print */
  body {
    background: white !important;
    color: black !important;
    font-size: 12pt;
    line-height: 1.5;
  }

  /* Hide non-essential elements */
  header,
  nav,
  footer,
  aside,
  .no-print,
  button,
  [role="navigation"],
  .DocSearch,
  .theme-toggle {
    display: none !important;
  }

  /* Make main content full width */
  main {
    width: 100% !important;
    max-width: none !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Article styling */
  article {
    max-width: none !important;
    padding: 0 !important;
  }

  /* Links - show URL after link text */
  .prose a[href]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
    word-break: break-all;
  }

  /* Don't show URL for internal links */
  .prose a[href^="/"]:after,
  .prose a[href^="#"]:after {
    content: "";
  }

  /* Code blocks */
  .prose pre,
  .not-prose pre {
    background: #f4f4f4 !important;
    border: 1px solid #ddd !important;
    padding: 0.5in !important;
    page-break-inside: avoid;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .prose code {
    background: #f4f4f4 !important;
    color: black !important;
  }

  /* Tables */
  table {
    border-collapse: collapse;
    width: 100%;
  }

  th, td {
    border: 1px solid #ddd !important;
    padding: 8px !important;
  }

  thead {
    background: #f4f4f4 !important;
  }

  /* Cards and boxes */
  .rounded-lg,
  .rounded-xl {
    border: 1px solid #ddd !important;
    background: white !important;
    box-shadow: none !important;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    color: black !important;
    page-break-after: avoid;
  }

  h2 {
    border-bottom: 1px solid #ddd !important;
  }

  /* Images */
  img {
    max-width: 100% !important;
    page-break-inside: avoid;
  }

  /* Mermaid diagrams */
  .mermaid,
  .shiki-wrapper {
    page-break-inside: avoid;
    background: white !important;
  }

  /* Page breaks */
  .page-break-before {
    page-break-before: always;
  }

  .page-break-after {
    page-break-after: always;
  }

  /* Avoid orphans and widows */
  p, li {
    orphans: 3;
    widows: 3;
  }

  /* Blockquotes */
  blockquote {
    border-left: 3px solid #ddd !important;
    color: #333 !important;
  }

  /* Badges and tags */
  .bg-primary,
  .bg-muted {
    background: #f4f4f4 !important;
    color: black !important;
  }
}

/* =============================================================================
   Shiki Syntax Highlighting Theme Support
   ============================================================================= */
.shiki-wrapper {
  position: relative;
}

/* Light mode: show light theme, hide dark */
.shiki-wrapper .shiki.github-light {
  display: block;
}

.shiki-wrapper .shiki.github-dark {
  display: none;
}

/* Dark mode: show dark theme, hide light */
[data-theme="dark"] .shiki-wrapper .shiki.github-light {
  display: none;
}

[data-theme="dark"] .shiki-wrapper .shiki.github-dark {
  display: block;
}

/* Shiki dual-theme output styling */
.shiki,
.shiki span {
  color: var(--shiki-light) !important;
  background-color: transparent !important;
}

[data-theme="dark"] .shiki,
[data-theme="dark"] .shiki span {
  color: var(--shiki-dark) !important;
  background-color: transparent !important;
}

/* =============================================================================
   Anchor Heading Styles
   ============================================================================= */

/* Anchor link hover effect for prose content */
.prose h2:hover .anchor-link,
.prose h3:hover .anchor-link,
.prose h4:hover .anchor-link {
  opacity: 1;
}

/* Auto-generate anchor links for prose headings */
.prose h2,
.prose h3,
.prose h4 {
  scroll-margin-top: 6rem;
}

/* Anchor link positioning */
.anchor-link {
  vertical-align: middle;
  margin-left: 0.5rem;
}

/* Anchor heading content wrapper */
.anchor-heading-content {
  scroll-margin-top: 6rem;
}

/* =============================================================================
   Animation Utilities (Tailwind-compatible)
   ============================================================================= */

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes zoom-in-50 {
  from {
    opacity: 0;
    transform: scale(0.5);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes zoom-in-95 {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slide-in-from-top {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slide-in-from-bottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 var(--primary);
  }
  50% {
    box-shadow: 0 0 10px 2px var(--primary);
  }
}

/* Animation utility classes */
.animate-in {
  animation-duration: 0.2s;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  animation-fill-mode: forwards;
}

.fade-in-0 {
  animation-name: fade-in;
}

.zoom-in-50 {
  animation-name: zoom-in-50;
}

.zoom-in-95 {
  animation-name: zoom-in-95;
}

.slide-in-from-top {
  animation-name: slide-in-from-top;
}

.slide-in-from-bottom {
  animation-name: slide-in-from-bottom;
}

/* Duration modifiers */
.duration-150 {
  animation-duration: 150ms;
}

.duration-200 {
  animation-duration: 200ms;
}

.duration-300 {
  animation-duration: 300ms;
}

/* =============================================================================
   Search Modal Backdrop
   ============================================================================= */

/* Backdrop blur enhancement for search modal */
.backdrop-blur-md {
  --tw-backdrop-blur: blur(12px);
  -webkit-backdrop-filter: var(--tw-backdrop-blur);
  backdrop-filter: var(--tw-backdrop-blur);
}

.backdrop-blur-xl {
  --tw-backdrop-blur: blur(24px);
  -webkit-backdrop-filter: var(--tw-backdrop-blur);
  backdrop-filter: var(--tw-backdrop-blur);
}

/* =============================================================================
   Scroll Progress Indicator
   ============================================================================= */

/* Ensure scroll progress is above everything */
.scroll-progress-container {
  z-index: 60;
}

/* Glow effect for progress bar */
.progress-glow {
  box-shadow: 0 0 10px var(--primary), 0 0 5px var(--primary);
}
